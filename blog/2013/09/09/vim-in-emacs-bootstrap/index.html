<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Vim in Emacs Bootstrap</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="generator" content="Hugo 0.16-DEV" />
    <link href="" rel="alternate" type="application/rss+xml" title="bling on software" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet">
    <link href="http://bling.github.io/css/hc.css" rel="stylesheet">
    <link href="http://bling.github.io/css/custom.css" rel="stylesheet">
    <link href="http://bling.github.io/css/highlight.css" rel="stylesheet">
    <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
    
    
  </head>
  <body>
    <div id = "wrapper">

      <div class="navbar navbar-default" role="navigation">
        <div class="container">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a href="http://bling.github.io/"><p class="navbar-brand">bling on software</p></a>
          </div>
          <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
              
              
            </ul>
          </div>
        </div>
      </div>



      
      <div id="sidebar-wrapper">
        <ul class="sidebar-nav">
          <li class="sidebar-brand">
            <a href="http://bling.github.io/">
              <h1 class="brand">bling on software</h1>
            </a>
            <a href="/about">
              <img src="https://pbs.twimg.com/profile_images/1188386482/Untitled_bigger.png" />
            </a>
            <h3>when pragmatism meets minimalism</h3>
          </li>

          <hr />

          <div id="social-wrapper">
            <li> <a href="https://github.com/bling"><i class="fa fa-github-square"></i> github</a> </li>
            <li> <a href="https://twitter.com/blingcoder"><i class="fa fa-twitter-square"></i> @twitter</a></li>
            <li> <a href="https://linkedin.com/in/baileyling"><i class="fa fa-linkedin-square"></i> linkedin</a> </li>
          </div>

          <hr />

          <li class="sidebar-tags">
            <div>
              <span>Tags</span>
              <a href="/post" style="float:right">show all</a>
            </div>
            <div>
              
              <a href="/tags/blend">blend</a>
              
              <a href="/tags/blogging">blogging</a>
              
              <a href="/tags/castle">castle</a>
              
              <a href="/tags/coding">coding</a>
              
              <a href="/tags/cqrs">cqrs</a>
              
              <a href="/tags/emacs">emacs</a>
              
              <a href="/tags/forex">forex</a>
              
              <a href="/tags/ioc">ioc</a>
              
              <a href="/tags/javascript">javascript</a>
              
              <a href="/tags/logging">logging</a>
              
              <a href="/tags/powershell">powershell</a>
              
              <a href="/tags/rx">rx</a>
              
              <a href="/tags/scm">scm</a>
              
              <a href="/tags/software-tools">software-tools</a>
              
              <a href="/tags/testing">testing</a>
              
              <a href="/tags/twitter">twitter</a>
              
              <a href="/tags/vim">vim</a>
              
              <a href="/tags/visual-studio">visual-studio</a>
              
            </div>
          </li>
        </ul>
        <footer>
          <p class="text-muted">&copy; bling on software 2016. All rights reserved. </p>
        </footer>

      </div>



      <div class="container">



<div class="article">
  <div class="article-title">Vim in Emacs Bootstrap</div>
  <div class="meta">
    <small><i class="fa fa-calendar-o"></i> 2013-09-09</small>
    <div class="article-tags">
      
      <a href="/tags/vim">vim</a>
      
      <a href="/tags/emacs">emacs</a>
      
    </div>
  </div>
  <hr/>
  <div class="post">
    

<p>Did I wake up on the wrong side of the bed?</p>

<p>My New Year&rsquo;s resolution for 2013 was to learn Vim. I was so new to Vim that I did not even know how to <a href="http://stackoverflow.com/questions/14107198/vim-delete-whitespace-between-2-lines">join lines</a> properly. However, I was diligent, patient, and stubborn enough to stick at it. It didn&rsquo;t take long for me to <a href="http://bling.github.io/blog/2013/02/10/love-affair-with-vim">fall in love</a>. I even ended up writing a <a href="https://github.com/bling/vim-airline">plugin</a> for Vim that got so popular that I was writing VimL as a second job.</p>

<p>Sounds like I&rsquo;m pretty happy with Vim (and I am), so why am I trying Emacs?</p>

<p>Curiosity is a major reason. But more I think the philosophy of Emacs fits my personality better. The Vim community is very much divided into two camps: the text editor people, and the people who try to turn Vim into an IDE. I am in the latter. My vim <a href="https://github.com/bling/dotvim">distribution</a> has over 90 plugins. While I haven&rsquo;t yet run into Vim&rsquo;s limitations of trying to use it this way, I can already see the walls coming up&hellip;</p>

<p>But here&rsquo;s the thing, I&rsquo;m addicted to <strong>modal editing</strong>, not Vim. It just so happens that Vim is the best implementation of modal editing, but Emacs has something that does a pretty damn good job too! And it&rsquo;s none other than <a href="http://www.emacswiki.org/emacs/Evil">evil-mode</a>.</p>

<p>With evil-mode, it&rsquo;s finally possible to have the best of both worlds. The power of modal editing with the near limitless extensibility of Emacs.</p>

<p>And as an added bonus I can finally have an excuse to learn a Lisp dialect. I discovered with Vim that customizing your editor is an incredible catalyst for learning a new language. It wasn&rsquo;t my intention to memorize a sizable portion of the VimL standard library when I started using Vim, but it happened anyway once I started tweaking and customizing&hellip;</p>

<p>My goal is that by the end of this post you&rsquo;ll have a working Emacs installation with Vim keybindings out of the box.</p>

<h1 id="back-to-basics:dd5dcba472bf99cee57e5ad68e630909">Back to Basics</h1>

<p>The best way to learn is to start from scratch. And so I did exactly that starting with the built-in tutorial <code>C-h t</code>. While the purpose of this blog post is to get modal editing working in Emacs, you&rsquo;re not going to be able to make <em>everything</em> modal, so you still need to know basic commands to navigate around.</p>

<h1 id="things-you-need-to-know:dd5dcba472bf99cee57e5ad68e630909">Things you need to know</h1>

<p>There are a couple important Emacs keys that you should know.</p>

<ul>
<li><code>C-g</code> is the universal &ldquo;get me out of here&rdquo; key, equivalent to <code>C-c</code> in Vim.</li>
<li><code>C-h</code> is the &ldquo;help&rdquo; prefix. <code>C-h C-h</code> will show you all possible options. I&rsquo;ve found that I use <code>C-h f</code> very often, which is used to lookup help for functions.</li>
<li><code>C-x</code> is a also very important, as it&rsquo;s the prefix for many common things like saving and finding files.</li>
<li><code>C-c</code> by <a href="http://www.gnu.org/software/emacs/manual/html_node/elisp/Key-Binding-Conventions.html">convention</a> are used for many things, including the equivalent of <code>&lt;leader&gt;</code> for user customizations when followed by letters, but also for major and minor mode bindings.</li>
</ul>

<h1 id="setting-up-your-vimrc:dd5dcba472bf99cee57e5ad68e630909">Setting up your &ldquo;vimrc&rdquo;</h1>

<p>In Emacs, this is the <code>~/.emacs</code> file. But just like in Vim, where you usually have a <code>~/.vim</code> directory for various plugins and configuration, Emacs has the <code>~/.emacs.d</code> directory. As an added bonus, <code>~/.emacs.d/init.el</code> is automatically loaded, so if you put your dotfiles up on GitHub it&rsquo;s as simple as cloning it to <code>~/.emacs.d</code>.</p>

<h1 id="what-s-with-the:dd5dcba472bf99cee57e5ad68e630909">What&rsquo;s with the (((())))?</h1>

<p>Going through the documentation is one thing, but making the first change to your <code>~/.emacs.d/init.el</code> file is daunting, at least for me it was. While Vim also has its own scripting language, VimL, it is much more newbie friendly.</p>

<p>How do you turn on line numbers? You add <code>set number</code> to your vimrc. It&rsquo;s simple, straightforward, and obvious. You don&rsquo;t even know you&rsquo;re scripting in Vim; it just looks like a configuration file at this point. How do you do that in Emacs? First you search on Google, which links you to this <a href="http://www.emacswiki.org/emacs/LineNumbers">EmacsWiki</a> article. If that doesn&rsquo;t scare you from using Emacs I don&rsquo;t know what will.</p>

<p>The short answer is, you add <code>(global-linum-mode t)</code> to your <code>init.el</code> file. Right off the bat the questions would be, is that a variable, a function? What is <code>t</code>?</p>

<p>Configuring Emacs throws you into Lisp from the get go, so what you want to do is actually read <a href="http://www.gnu.org/software/emacs/manual/eintr.html">Introduction to Programming in Emacs Lisp</a>.</p>

<h1 id="lisp-basics:dd5dcba472bf99cee57e5ad68e630909">Lisp basics</h1>

<p>You&rsquo;re going to be seeing a lot of Lisp, so let&rsquo;s summarize the basics:</p>

<ul>
<li><code>set</code> will set a variable, but you will rarely see this.</li>
<li><code>setq</code> is <em>very</em> frequently seen. The q stands for quote, which will sidetrack you to understanding what a <a href="http://stackoverflow.com/questions/134887/when-to-use-quote-in-lisp">quote</a> is.</li>
<li><code>setq-default</code> sets a variable if it&rsquo;s not already set/overridden.</li>
<li><code>defun</code> defines a function.</li>
<li><code>-p</code> by convention is added to functions that return true or false (the p stands for predicate).</li>
</ul>

<p>Now that things are a bit more readable, we can begin setting up our configuration to get evil-mode installed.</p>

<h1 id="package-management:dd5dcba472bf99cee57e5ad68e630909">Package management</h1>

<p>Emacs 24 comes with built-in <a href="http://www.emacswiki.org/emacs/ELP">package management</a>. The default GNU repository doesn&rsquo;t really have many packages, but luckily there&rsquo;s a community driven repository named <a href="http://melpa.milkbox.net/">MELPA</a> where up to date packages are built directly from GitHub.</p>

<p>So, let&rsquo;s add the MELPA into our <code>~/.emacs.d/init.el</code> file:</p>
<div class="highlight"><pre><code class="language-cl" data-lang="cl"><span class="c1">;;; this loads the package manager</span>
<span class="p">(</span><span class="nb">require</span> <span class="ss">&#39;package</span><span class="p">)</span>

<span class="c1">;;; here there&#39;s a variable named package-archives, and we are adding the MELPA repository to it</span>
<span class="p">(</span><span class="nv">add-to-list</span> <span class="ss">&#39;package-archives</span>
             <span class="o">&#39;</span><span class="p">(</span><span class="s">&quot;melpa&quot;</span> <span class="o">.</span> <span class="s">&quot;http://melpa.milkbox.net/packages/&quot;</span><span class="p">)</span> <span class="no">t</span><span class="p">)</span>

<span class="c1">;;; loads packages and activates them</span>
<span class="p">(</span><span class="nv">package-initialize</span><span class="p">)</span>
</code></pre></div>

<p>OK, straightforward so far.</p>

<h1 id="installing-evil:dd5dcba472bf99cee57e5ad68e630909">Installing evil</h1>

<p>Next up is the all important <code>M-x</code> binding (on modern keyboards M is the Alt key). This is sort of like Vim&rsquo;s <code>:</code> where you can type commands. Here we are going to do a <code>M-x package-refresh-contents RET</code>. In Emacs, <code>RET</code> is the convention for <code>&lt;CR&gt;</code>. This will refresh the repository of available packages. And finally, <code>M-x package-install RET evil RET</code>.</p>

<p>And now it&rsquo;s installed!</p>

<p>It&rsquo;s not enabled by default, so we need to append the following lines to our <code>init.el</code> file:</p>
<div class="highlight"><pre><code class="language-cl" data-lang="cl"><span class="p">(</span><span class="nb">require</span> <span class="ss">&#39;evil</span><span class="p">)</span>
<span class="p">(</span><span class="nv">evil-mode</span> <span class="no">t</span><span class="p">)</span>
</code></pre></div>

<p>Finally, <code>C-x C-c</code> to quit Emacs and restart it. If you&rsquo;re feeling adventurous you can use <code>M-x eval-buffer RET</code> instead.</p>

<h1 id="finale:dd5dcba472bf99cee57e5ad68e630909">Finale</h1>

<p>Congratulations! You have a working Emacs installation with Vim modal editing!</p>

<p>You may notice that in addition to <code>C-c</code>, <code>C-h</code>, and <code>C-x</code> that I mentioned earlier, <code>C-u</code> will not scroll up half a page as you would expect. This is because by default this is mapped to the Emacs <code>universal-argument</code> function, which is used for repeating. You can of course customize all of this, but I&rsquo;ll let you take it from here&hellip;</p>

<p>And so there you have it!</p>

<p>TLDR: <code>git clone https://github.com/bling/emacs-evil-bootstrap.git ~/.emacs.d</code> will automate this entire blog post and let you try Vim in Emacs in 10-20 seconds.</p>

  </div>
</div>




<div class="social-bar">
  <a href="https://twitter.com/share" class="twitter-share-button"{count} data-via="blingcoder">Tweet</a>
  <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

  <script src="https://apis.google.com/js/platform.js" async defer></script>
  <g:plusone></g:plusone>
</div>

<ul class="pager">
   &nbsp;<li class="previous"><a href="http://bling.github.io/blog/2013/10/16/emacs-as-my-leader-evil-mode/"> Emacs as my &lt;Leader&gt; evil-mode</a></li>
   &nbsp;<li class="next"><a href="http://bling.github.io/blog/2013/08/16/modularizing-vimscript/"> Modularizing VimScript</a></li>
</ul>


<div id="disqus_thread"></div>
<script type="text/javascript">
 (function() {
   if (window.location.hostname === 'localhost')
     return;

   var disqus_shortname = 'blingdev';
   var disqus_identifier = 'http:\/\/bling.github.io\/blog\/2013\/09\/09\/vim-in-emacs-bootstrap\/';
   var disqus_title = 'Vim in Emacs Bootstrap';
   var disqus_url = 'http:\/\/bling.github.io\/blog\/2013\/09\/09\/vim-in-emacs-bootstrap\/';
   var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
   dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
   (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
 })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>





    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/js/bootstrap.min.js"></script>

    
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-38439430-2', 'auto');
ga('send', 'pageview');
</script>

  </body>
</html>

