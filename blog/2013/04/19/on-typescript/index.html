<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>On TypeScript</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="generator" content="Hugo 0.16-DEV" />
    <link href="" rel="alternate" type="application/rss+xml" title="bling on software" />
    <link href="http://bling.github.io/css/bootstrap.min.css" rel="stylesheet">
    <link href="http://bling.github.io/css/hc.css" rel="stylesheet">
    <link href="http://bling.github.io/css/custom.css" rel="stylesheet">
    <link href="http://bling.github.io/css/highlight.css" rel="stylesheet">
    <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
    
    
  </head>
  <body>
    <div id = "wrapper">

      <div class="navbar navbar-default" role="navigation">
        <div class="container">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a href="http://bling.github.io/"><p class="navbar-brand">bling on software</p></a>
          </div>
          <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
              
              
            </ul>
          </div>
        </div>
      </div>



      
      <div id="sidebar-wrapper">
        <ul class="sidebar-nav">
          <li class="sidebar-brand">
            <a href="http://bling.github.io/">
              <h1 class="brand">bling on software</h1>
            </a>
            <a href="/about">
              <img src="https://pbs.twimg.com/profile_images/1188386482/Untitled_bigger.png" />
            </a>
            <h3>when pragmatism meets minimalism</h3>
          </li>

          <hr />

          <div id="social-wrapper">
            <li> <a href="https://github.com/bling"><i class="fa fa-github-square"></i> github</a> </li>
            <li> <a href="https://twitter.com/blingcoder"><i class="fa fa-twitter-square"></i> @twitter</a></li>
            <li> <a href="https://linkedin.com/in/baileyling"><i class="fa fa-linkedin-square"></i> linkedin</a> </li>
          </div>

          <hr />

          <li class="sidebar-tags">
            <div>
              <span>Tags</span>
              <a href="/post" style="float:right">show all</a>
            </div>
            <div>
              
              <a href="/tags/blend">blend</a>
              
              <a href="/tags/castle">castle</a>
              
              <a href="/tags/coding">coding</a>
              
              <a href="/tags/cqrs">cqrs</a>
              
              <a href="/tags/emacs">emacs</a>
              
              <a href="/tags/forex">forex</a>
              
              <a href="/tags/ioc">ioc</a>
              
              <a href="/tags/javascript">javascript</a>
              
              <a href="/tags/logging">logging</a>
              
              <a href="/tags/powershell">powershell</a>
              
              <a href="/tags/rx">rx</a>
              
              <a href="/tags/scm">scm</a>
              
              <a href="/tags/software-tools">software-tools</a>
              
              <a href="/tags/source-control-management">source-control-management</a>
              
              <a href="/tags/testing">testing</a>
              
              <a href="/tags/twitter">twitter</a>
              
              <a href="/tags/vim">vim</a>
              
              <a href="/tags/visual-studio">visual-studio</a>
              
            </div>
          </li>
        </ul>
      </div>



      <div class="container">



<div class="article">
  <div class="article-title">On TypeScript</div>
  <p class="meta"><small>&nbsp;<i class="fa fa-calendar-o"></i> 2013-04-19</small></p> <hr/>
  <div class="post">
    

<h1 id="what-s-the-deal:2eaa3d5702d7bfa3dcdaf47ea31e215c">What&rsquo;s the deal?</h1>

<p>For the past week I&rsquo;ve been fortunate to work on an internal project which was purely greenfield and built on Node/Express on the backend, and AngularJS on the front-end.  It was a ton of fun and I learned a lot in the process, most particularly TypeScript and CoffeeScript.</p>

<p>TypeScript was of interest because the application I was writing contained some pretty complex calculations.  The existing implementation was in Java, and at first glance it seemed like it would be a good idea to have some type safety whilst reimplementing the algorithm.</p>

<h1 id="getting-started:2eaa3d5702d7bfa3dcdaf47ea31e215c">Getting Started</h1>

<p>I don&rsquo;t know why there&rsquo;s this misconception that you need to have Microsoft tooling to use Typescript, but it is 100% false and a myth.  To install it you just run <code>npm install typescript</code>.  Yes!  It&rsquo;s just a standard node package.  Once it&rsquo;s installed you have access to a <code>tsc</code> command, similar to how you would use the <code>coffee</code>, i.e. you give it input, and it spits output.</p>

<p>If you&rsquo;ve ever been to <a href="http://typescriptlang.org">TypeScript</a>&rsquo;s website, you will have seen the rather impressive playground where you can see side by side Javascript vs Typescript.  This is a trick!  It gives you the illusion that you can simply annotate variables with types and it will automatically check only those types.  This is only half true.  Let&rsquo;s look at a innocent Node application:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">http</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;http&#39;</span><span class="p">);</span>
<span class="nx">http</span><span class="p">.</span><span class="nx">createServer</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">res</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="s1">&#39;hello world&#39;</span><span class="p">);</span>
  <span class="nx">res</span><span class="p">.</span><span class="nx">end</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">listen</span><span class="p">(</span><span class="mi">3000</span><span class="p">);</span>
</code></pre></div>

<p>That is just plain &lsquo;ol Javascript, and if the claim that all Javascript is valid Typescript, this should compile fine.  Except that it doesn&rsquo;t&hellip;we are greeted with the following error:</p>
<div class="highlight"><pre>The name &#39;require&#39; does not exist in the current scope.
</pre></div>

<p>As it turns out, if you&rsquo;re using Typescript you need to tell the compiler of <em>every</em> object and function that you&rsquo;re using.  In the above example, the compiler doesn&rsquo;t know anything about <code>require</code>, so it threw an error.</p>

<p>The way to correct this is with definition files.  These are like header files and they define the API of a module.  The pseudo standard for definition files currently lives in a GitHub repository named <a href="https://github.com/borisyankov/DefinitelyTyped">DefinitedlyTyped</a>.  This contains definition files for many popular libraries and is actively updated by the community.</p>

<p>Once you have a definition file, you add <code>///&lt;reference path=&quot;./d.ts/requirejs/require.d.ts&quot;/&gt;</code> to the top of the file, and the code will compile.</p>

<p>The second option is to add <code>declare var require: any;</code> to the top of the file, effectively telling the compiler to ignore anything to do with that variable.</p>

<p>Either way, this was completely different from my initial expectations.  I thought that I would be able to take a large application, rename everything from <code>js</code> to <code>ts</code>, and then slowly upgrade the code to Typescript.  This is obviously not possible.  For this to work, you would need to define an application definition file, which references all other definition files (or declare variables for those that do not have definition files), and then for <em>every file in your project</em>, you would ///reference the application definition file.</p>

<p>I suppose this is a necessary evil for type checking, although it would have been nice to have this baked into the compiler to ease the migration path of existing applications.</p>

<h1 id="clean-output:2eaa3d5702d7bfa3dcdaf47ea31e215c">Clean output</h1>

<p>One of the nice things about TypeScript is that the output is very clean and predictable.  For example, here is an empty class:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">class</span> <span class="nx">Foo</span> <span class="p">{</span> <span class="p">}</span>
</code></pre></div>

<p>It will compile to this:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">Foo</span> <span class="o">=</span> <span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">function</span> <span class="nx">Foo</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>
    <span class="k">return</span> <span class="nx">Foo</span><span class="p">;</span>
<span class="p">})();</span>
</code></pre></div>

<p>All classes are done so with an immediately executed anonymous function.  If you define <code>Foo</code> as <code>export class Foo</code>, then the output will have an extra line at the bottom: <code>exports.Foo = Foo;</code>.  In other words, it&rsquo;s got first class support for the CommonJS syntax (as well as AMD).</p>

<h1 id="competing-thought-processes:2eaa3d5702d7bfa3dcdaf47ea31e215c">Competing thought processes</h1>

<p>For people coming from C#, it will feel very comfortable, because it is <em>extremely</em> similar to C#.  You have classes, methods, modules (aka namespaces), just like you have in C#.  If you try to use a method that doesn&rsquo;t exist, the compiler will complain.  These features are the bread and butter of compiled languages and people coming from Visual Studio (the majority of the audience) will feel very comfortable.</p>

<p>Then why is it that I did <em>not</em> enjoy writing in Typescript?</p>

<p>I&rsquo;m about 99% sure that I was just so used to working in untyped Javascript that I became annoyed that I had to &ldquo;annotate yet another variable&rdquo;.  TypeScript doesn&rsquo;t force you to annotate every variable, in fact, you could annotate nothing and it&rsquo;ll still compile (as long as you have the definition files).  But if you&rsquo;re going to use TypeScript it seems silly not to use types.</p>

<p>But what this comes down to is the classic static vs dynamic languages.  Static proponents will state that the compiler saves you from a lot of mistakes earlier on.  Dynamic proponents will state that &ldquo;if it quacks like a duck, it&rsquo;s a duck, I shouldn&rsquo;t need to declare it&rdquo;.  They&rsquo;re both right.</p>

<p>Either way, given an open mind and some time, you can be productive in either environment, and makes you a better developer in the end.</p>

  </div>
</div>




<div class="social-bar">
  <a href="https://twitter.com/share" class="twitter-share-button"{count} data-via="blingcoder">Tweet</a>
  <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

  <script src="https://apis.google.com/js/platform.js" async defer></script>
  <g:plusone></g:plusone>
</div>

<ul class="pager">
   &nbsp;<li class="previous"><a href="http://bling.github.io/blog/2013/06/02/unite-dot-vim-the-plugin-you-didnt-know-you-need/"> Unite.vim, The plugin you didn&#39;t know you need</a></li>
   &nbsp;<li class="next"><a href="http://bling.github.io/blog/2013/04/13/dot-net-slash-wpf-to-html-slash-css-slash-javscript/"> .NET/WPF to HTML/CSS/Javscript</a></li>
</ul>

<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'blingdev';
    var disqus_identifier = 'http:\/\/bling.github.io\/blog\/2013\/04\/19\/on-typescript\/';
    var disqus_title = 'On TypeScript';
    var disqus_url = 'http:\/\/bling.github.io\/blog\/2013\/04\/19\/on-typescript\/';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>



    </div>

    <footer>
      <p class="text-muted credit">&copy; bling on software 2015. All rights reserved. </p>
    </footer>

    <script src="http://bling.github.io/js/jquery-1.10.2.min.js"></script>
    <script src="http://bling.github.io/js/bootstrap.min.js"></script>
    <script src="http://bling.github.io/js/bootstrap.js"></script>
    <script type="text/javascript" src="http://bling.github.io/js/hc.js"></script>

    
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-38439430-2', 'auto');
ga('send', 'pageview');
</script>

  </body>
</html>

